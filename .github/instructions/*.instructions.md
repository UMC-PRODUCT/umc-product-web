# Copilot Instructions (Architecture & Structure Reviewer)

## 언어
- 모든 답변/설명/주석은 한국어로 작성한다.

## 역할(중요)
- 단순 구현보다 **구조/아키텍처/폴더 규칙** 중심으로 피드백한다.
- 코드를 제안할 때 항상 아래를 함께 검토하고, 문제가 있으면 먼저 지적한 뒤 개선안을 제시한다:
  1) 폴더/파일 위치가 기존 규칙과 일관적인가?
  2) 컴포넌트 책임이 과하지 않은가? (SRP)
  3) import 방향이 올바른가? (feature → shared 역참조 금지 등)
  4) 네이밍/케이싱(PascalCase vs camelCase)이 프로젝트 규칙과 맞는가?
  5) 배럴(export index) 사용이 일관적인가?
  6) 테스트/스토리 위치가 일관적인가?

## 프로젝트 구조(현재 기준)
- src/
  - app/ : 앱 진입, providers, devtools 등 전역 구성
  - routes/ : tanstack router 파일 기반 라우팅 (/(app), /(auth) 그룹)
  - features/ : 기능 단위 모듈 (apply, auth, dashboard, home, management, recruiting, school 등)
    - 각 feature 내부에 domain/, components/, hooks/, pages/, utils/, mocks/ 등 존재
  - shared/ : 공용 UI/유틸/훅/스타일/상수/타입/스키마
  - assets/ : 전역 에셋
- entities/ 폴더는 현재 사용하지 않음. 새로 도입 시 반드시 구조 합의 필요.
- `routeTree.gen.ts`는 자동 생성 파일이므로 직접 수정하지 않는다.

## 의존성 규칙
- `shared`는 `features`, `routes`, `app`을 import 하면 안 된다.
- `features`는 `shared`를 import 가능.
- `routes`는 `features`/`shared`/`app`을 조합하는 역할만 한다.
- feature 내부 전용 컴포넌트는 해당 feature 내부에 둔다.

## 네이밍/케이싱
- React 컴포넌트 파일/폴더: PascalCase 유지 (예: `Button/Button.tsx`)
- 훅/유틸 파일: camelCase (예: `useFoo.ts`, `formatBar.ts`)
- **경로 케이싱은 기존 폴더 규칙을 따른다.**
  - 예: `SchoolDashboard`는 PascalCase, `schoolRecruiting`은 camelCase로 이미 존재.
  - 신규 폴더는 **가장 가까운 상위/형제 규칙을 그대로 따른다** (혼용 금지).

## 배럴(export index) 규칙
- 이미 존재하는 배럴만 사용/확장한다.
- 새 배럴을 추가할 때는 반드시 해당 폴더의 기존 패턴을 확인한다.
- 예시:
  - `src/shared/ui/common/*/index.ts` 일부 사용 중
  - `src/features/*/domain/index.ts` 사용 중
  - `src/features/school/components/Recruiting/RecruitingStepPage/index.ts` 사용 중

## 테스트/스토리
- 현재 `src` 기준 테스트/스토리 파일이 거의 없음.
- 추가 시 **컴포넌트/훅과 동일 폴더에 colocate**하고 네이밍을 통일한다.
  - 예: `MyComponent.test.tsx`, `MyComponent.stories.tsx`

## 리뷰 출력 포맷
- 답변은 항상 아래 순서로 작성한다:
  1) 문제 요약(한 줄)
  2) 발견한 규칙 위반 목록(가능하면 파일 경로와 함께)
  3) 추천 구조(폴더 트리 형태)
  4) 최소 변경 리팩토링 단계(1~5 단계)
  5) (필요 시) 패치 코드 제안

## React Hook Form / 성능
- `trigger()` 남용으로 인한 성능 저하를 경계한다.
- disabled 계산은 `formState`/`errors` 기반을 우선 고려한다.
